(o=>{function e(e){for(var t,a,n=e[0],l=e[1],i=e[2],s=0,d=[];s<n.length;s++)a=n[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(o[t]=l[t]);for(h&&h(e);d.length;)d.shift()();return u.push.apply(u,i||[]),c()}function c(){for(var e,t=0;t<u.length;t++){for(var a=u[t],n=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(n=!1)}n&&(u.splice(t--,1),e=s(s.s=a[0]))}return e}var a={},r={3:0},u=[];function s(e){var t;return(a[e]||(t=a[e]={i:e,l:!1,exports:{}},o[e].call(t.exports,t,t.exports,s),t.l=!0,t)).exports}s.m=o,s.c=a,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/./static/js";var t=(n=window.webpackJsonp=window.webpackJsonp||[]).push.bind(n);n.push=e;for(var n=n.slice(),l=0;l<n.length;l++)e(n[l]);var h=t;u.push(["./assets/js/pages/challenges.js",0,1]),c()})({"./assets/js/pages/challenges.js":function(e,t,a){a("./assets/js/pages/main.js"),a("./node_modules/bootstrap/js/dist/tab.js");var n=a("./assets/js/ezq.js"),o=a("./assets/js/utils.js"),c=h(a("./node_modules/dayjs/dayjs.min.js")),l=h(a("./node_modules/dayjs/plugin/relativeTime.js")),r=h(a("./node_modules/jquery/dist/jquery.js")),s=h(a("./assets/js/CTFd.js")),d=h(a("./assets/js/config.js")),u=h(a("./node_modules/highlight.js/lib/index.js"));function h(e){return e&&e.__esModule?e:{default:e}}c.default.extend(l.default),s.default._internal.challenge={};var f=[],g=[],p=function(t){var e=r.default.grep(f,function(e){return e.id==t})[0];"hidden"===e.type?(0,n.ezAlert)({title:"Challenge Hidden!",body:"You haven't unlocked this challenge yet!",button:"Got it!"}):w(e)},w=function(n){return Promise.all([s.default.api.get_challenge({challengeId:n.id}),r.default.getScript(d.default.urlRoot+n.script),r.default.get(d.default.urlRoot+n.template)]).then(function(e){var t=s.default._internal.challenge,a=((0,r.default)("#challenge-window").empty(),t.data=e[0].data,t.preRender(),(0,r.default)("#challenge-window").append(e[0].data.view),(0,r.default)("#challenge-window #challenge-input").addClass("form-control"),(0,r.default)("#challenge-window #challenge-submit").addClass("btn btn-md btn-outline-secondary float-right"),(0,r.default)("#challenge-window").find(".modal-dialog"));if(window.init.theme_settings&&window.init.theme_settings.challenge_window_size)switch(window.init.theme_settings.challenge_window_size){case"sm":a.addClass("modal-sm");break;case"lg":a.addClass("modal-lg");break;case"xl":a.addClass("modal-xl")}(0,r.default)(".challenge-solves").click(function(e){v((0,r.default)("#challenge-id").val())}),(0,r.default)(".nav-tabs a").click(function(e){e.preventDefault(),(0,r.default)(this).tab("show")}),(0,r.default)("#challenge-window").on("hide.bs.modal",function(e){(0,r.default)("#challenge-input").removeClass("wrong"),(0,r.default)("#challenge-input").removeClass("correct"),(0,r.default)("#incorrect-key").slideUp(),(0,r.default)("#correct-key").slideUp(),(0,r.default)("#already-solved").slideUp(),(0,r.default)("#too-fast").slideUp()}),(0,r.default)(".load-hint").on("click",function(e){j((0,r.default)(this).data("hint-id"))}),(0,r.default)("#challenge-submit").click(function(e){e.preventDefault(),(0,r.default)("#challenge-submit").addClass("disabled-button"),(0,r.default)("#challenge-submit").prop("disabled",!0),s.default._internal.challenge.submit().then(m).then(y).then(b)}),(0,r.default)("#challenge-input").keyup(function(e){13==e.keyCode&&(0,r.default)("#challenge-submit").click()}),t.postRender(),(0,r.default)("#challenge-window").find("pre code").each(function(e){u.default.highlightBlock(this)}),window.location.replace(window.location.href.split("#")[0]+"#".concat(n.name,"-").concat(n.id)),(0,r.default)("#challenge-window").modal()})};function m(e){var e=e.data,t=(0,r.default)("#result-message"),a=(0,r.default)("#result-notification"),n=(0,r.default)("#challenge-input");a.removeClass(),t.text(e.message),"authentication_required"===e.status?window.location=s.default.config.urlRoot+"/login?next="+s.default.config.urlRoot+window.location.pathname+window.location.hash:("incorrect"===e.status?(a.addClass("alert alert-danger alert-dismissable text-center"),a.slideDown(),n.removeClass("correct"),n.addClass("wrong"),setTimeout(function(){n.removeClass("wrong")},3e3)):"correct"===e.status?(a.addClass("alert alert-success alert-dismissable text-center"),a.slideDown(),(0,r.default)(".challenge-solves").text().trim()&&(0,r.default)(".challenge-solves").text(parseInt((0,r.default)(".challenge-solves").text().split(" ")[0])+1+" Solves"),n.val(""),n.removeClass("wrong"),n.addClass("correct")):"already_solved"===e.status?(a.addClass("alert alert-info alert-dismissable text-center"),a.slideDown(),n.addClass("correct")):"paused"===e.status?(a.addClass("alert alert-warning alert-dismissable text-center"),a.slideDown()):"ratelimited"===e.status&&(a.addClass("alert alert-warning alert-dismissable text-center"),a.slideDown(),n.addClass("too-fast"),setTimeout(function(){n.removeClass("too-fast")},3e3)),setTimeout(function(){(0,r.default)(".alert").slideUp(),(0,r.default)("#challenge-submit").removeClass("disabled-button"),(0,r.default)("#challenge-submit").prop("disabled",!1)},3e3))}function b(){f.map(function(e){e.solved_by_me&&((e=(0,r.default)('button[value="'.concat(e.id,'"]'))).addClass("solved-challenge"),e.prepend("<i class='fas fa-check corner-button-check'></i>"))})}function v(e){s.default.api.get_challenge_solves({challengeId:e}).then(function(e){var t=e.data,a=((0,r.default)(".challenge-solves").text(parseInt(t.length)+" Solves"),(0,r.default)("#challenge-solves-names"));a.empty();for(var n=0;n<t.length;n++){var l=t[n].account_id,i=t[n].name,s=(0,c.default)(t[n].date).fromNow(),d=t[n].account_url;a.append('<tr><td><a href="{0}">{2}</td><td>{3}</td></tr>'.format(d,l,(0,o.htmlEntities)(i),s))}})}function y(){return s.default.api.get_challenge_list().then(function(e){var t={Week1:0,Week2:0,Week3:0,Week4:0,Week5:0},a=(0,r.default)("#chal-calendar");f=e.data,window.BETA_sortChallenges&&(f=window.BETA_sortChallenges(f)),a.empty(),O("chal-calendar");for(var n=0;n<=f.length-1;n++){var l,i,s=f[n],s=(advcal_chalbutton=(-1==g.indexOf(s.id)?"<button class='btn btn-dark challenge-button w-100 text-truncate pt-3 pb-3 chal-pending' value='{0}'>":"<button class='btn btn-success challenge-button w-100 text-truncate pt-3 pb-3 chal-completed' value='{0}'>").format(s.id),s.category.replace(/ /g,""));s in t&&(i=(l=(0,r.default)("#"+s+" > .has-chal")[t[s]]).innerText,l.innerHTML=advcal_chalbutton+i+"</button>",t[s]++)}(0,r.default)(".challenge-button").click(function(e){p(this.value)})})}function _(){return y().then(b)}(0,r.default)(function(){_().then(function(){var e,t,a;0<window.location.hash.length&&(e=decodeURIComponent(window.location.hash.substring(1)),t=e.lastIndexOf("-"),a=[e.slice(0,t),e.slice(t+1)][1],e=r.default.grep(f,function(e){return e.id==a})[0],w(e))}),(0,r.default)("#challenge-input").keyup(function(e){13==e.keyCode&&(0,r.default)("#challenge-submit").click()}),(0,r.default)(".nav-tabs a").click(function(e){e.preventDefault(),(0,r.default)(this).tab("show")}),(0,r.default)("#challenge-window").on("hidden.bs.modal",function(e){(0,r.default)(".nav-tabs a:first").tab("show"),history.replaceState("",window.document.title,window.location.pathname)}),(0,r.default)(".challenge-solves").click(function(e){v((0,r.default)("#challenge-id").val())}),(0,r.default)("#challenge-window").on("hide.bs.modal",function(e){(0,r.default)("#challenge-input").removeClass("wrong"),(0,r.default)("#challenge-input").removeClass("correct"),(0,r.default)("#incorrect-key").slideUp(),(0,r.default)("#correct-key").slideUp(),(0,r.default)("#already-solved").slideUp(),(0,r.default)("#too-fast").slideUp()})}),setInterval(_,3e5);var C=function(e){(0,n.ezAlert)({title:"Hint",body:e.html,button:"Got it!"})},k=function(t){(0,n.ezQuery)({title:"Unlock Hint?",body:"Are you sure you want to open this hint?",success:function(){s.default.api.post_unlock_list({},{target:t,type:"hints"}).then(function(e){e.success?s.default.api.get_hint({hintId:t}).then(function(e){C(e.data)}):(0,n.ezAlert)({title:"Error",body:e.errors.score,button:"Got it!"})})}})},j=function(t){s.default.api.get_hint({hintId:t}).then(function(e){e.data.content?C(e.data):k(t)})},O=(window.updateChallengeBoard=_,void 0!==window.init.theme_settings&&null!=window.init.theme_settings||(window.init.theme_settings={}),void 0===window.init.theme_settings.yearOfCalendar&&(window.init.theme_settings.yearOfCalendar="2023"),void 0===window.init.theme_settings.monthOfCalendar&&(window.init.theme_settings.monthOfCalendar="12"),void 0===window.init.theme_settings.lastDayOfCalendar&&(window.init.theme_settings.lastDayOfCalendar="24"),void 0===window.init.theme_settings.challOnWE&&(window.init.theme_settings.challOnWE="false"),function(e){var t=new Date(window.init.theme_settings.yearOfCalendar,window.init.theme_settings.monthOfCalendar-1,1),a=new Date(window.init.theme_settings.yearOfCalendar,window.init.theme_settings.monthOfCalendar,0).getDate(),n=1,l=2,s='<table class="table table-chal text-center"><thead><tr><th>Monday</th><th>Tuesday</th><th>Wednesday</th><th>Thursday</th><th>Friday</th><th>Saturday</th><th>Sunday</th></tr></thead><tbody><tr id="Week1">',d=t.getDay();for(0==d&&(d=7),i=1;i<8;i++)i<d?s+='<td class="no-december no-chal"><div class="pt-3 pb-3 bg-light"></div></td>':(5<i&&"false"==window.init.theme_settings.challOnWE?s+='<td class="week-end no-chal"><div class="pt-3 pb-3 bg-light">'+n+"</div></td>":s+='<td id="cal-chal-'+String(n).padStart(2,"0")+'" class="has-chal"><div class="pt-3 pb-3 bg-white">'+n+"</div></td>",n++);for(s+="</tr>";n<=a;){for(s+='<tr id="Week'+l+'">',i=1;i<8;i++)a<n?s+='<td class="no-december no-chal"><div class="pt-3 pb-3 bg-light"></div></td>':5<i&&"false"==window.init.theme_settings.challOnWE?s+='<td class="week-end no-chal"><div class="pt-3 pb-3 bg-light">'+n+"</div></td>":n<=window.init.theme_settings.lastDayOfCalendar?s+='<td id="cal-chal-'+String(n).padStart(2,"0")+'" class="has-chal"><div class="pt-3 pb-3 bg-white">'+n+"</div></td>":s+='<td class="after-christmas no-chal"><div class="pt-3 pb-3 bg-light">'+n+"</div></td>",n++;s+="</tr>",l++}s+="</tbody></table>",document.getElementById(e).innerHTML=s});O("chal-calendar")}});